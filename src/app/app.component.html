<div class="container">
  <!-- Navigation Links -->
  <nav class="nav-links">
    <a routerLink="/app" class="nav-link">Log In</a>
    <a routerLink="/home" class="nav-link">Home</a>
  </nav>
  <h1>Book & Bite</h1>
  <hr>

  <!-- Only show the login/register forms if the user is not logged in -->
  <div *ngIf="!auth?.currentUser" class="auth-container">
    <!-- Conditionally show Register or Login form based on the isRegistering flag -->
    <div *ngIf="isRegistering; else loginForm">
      <!-- Register Form -->
      <form (submit)="onRegister($event)" class="auth-form">
        <h2>Sign-Up</h2>
        <label for="register-username">Username:</label>
        <input type="text" id="register-username" required placeholder="Choose a username">
        <br>
        <label for="register-email">Email:</label>
        <input type="email" id="register-email" required placeholder="Enter your email">
        <br>
        <label for="register-password">Password:</label>
        <input type="password" id="register-password" required placeholder="Enter your password">
        <br>
        <button type="submit" class="btn">Register</button>
      </form>
      <!-- Display success or error message for registration -->
      <div *ngIf="registrationMessage" class="message">
        {{ registrationMessage }}
      </div>
      <br>
      <hr>
      <button (click)="toggleForm()" class="toggle-btn">Already have an account? Log In</button>
    </div>

    <!-- Login Form -->
    <ng-template #loginForm>
      <form (submit)="onLogin($event)" class="auth-form">
        <h2>Log-In</h2>
        <label for="email">Email:</label>
        <input type="email" id="email" required placeholder="Enter your email">
        <br>
        <label for="password">Password:</label>
        <input type="password" id="password" required placeholder="Enter your password">
        <br>
        <button type="submit" class="btn">Login</button>
      </form>
      <!-- Display login messages -->
      <div *ngIf="loginSuccessMessage" class="message success">
        {{ loginSuccessMessage }}
      </div>
      <div *ngIf="loginErrorMessage" class="message error">
        {{ loginErrorMessage }}
      </div>
      <br>
      <hr>
      <button (click)="toggleForm()" class="toggle-btn">Don't have an account? Register</button>
      <br>
      <button (click)="loginWithGoogle()" class="btn google-login-btn">
        Login with Google
      </button>
    </ng-template>
  </div>

  <!-- Logout Section (only visible when logged in) -->
  <div *ngIf="auth?.currentUser" class="logout-section">
    <br>
    <button (click)="logout()" class="btn logout-btn">Logout</button>
  </div>

  <!-- Router Outlet for rendering the routed component -->
  <router-outlet name="left"></router-outlet>
  <router-outlet></router-outlet>
</div>
